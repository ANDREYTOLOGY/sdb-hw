# Домашнее задание к занятию "`Резервное копирование баз данных`" - `Чернышов Андрей`

### Задание 1

#### 1. Резервное копирование

Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования.  
Необходимо описать, какие варианты резервного копирования подходят в случаях:  

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.  

*Для этой задачи подходит ежедневное полное резервное копирование (Full Backup) в ночное время, когда нагрузка минимальна*

1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.  

*Для этого требуется более частая фиксация изменений. Здесь подходит комбинация:  
Еженедельное полное резервное копирование + ежедневные инкрементальные или дифференциальные резервные копии + транзакционные логи (журналы транзакций).*

1.3.* Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.  
*Использовать Master-Slave или Master-Master репликации*

### Задание 2
#### 2. PostgreSQL

2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).  

pg_dump [connection-option...] [option...] [dbname]
$ pg_dump mydb > db.sql

$ pg_restore -d newdb db.dump

2.1.* Возможно ли автоматизировать этот процесс? Если да, то как?  

*Использование скрипта bash для выполнения команд резервного копирования, создания каталогов, очистки старых бэкапов. С помощью планировщика cron автоматизируем запуск данного скрипта*

### Задание 3 MySQL

3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL.

mysqlbackup --defaults-file=/home/dbadmin/my.cnf \  
  --incremental --incremental-base=history:last_backup \  
  --backup-dir=/home/dbadmin/temp_dir \  
  --backup-image=incremental_image1.bi \  
   backup-to-image  






